<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<package name="pixpkg" extends="json-default">
		<!-- <interceptors> <interceptor name="businessInterceptor" class="com.broadvideo.signage.interceptor.BusinessInterceptor" 
			/> <interceptor-stack name="mystack"> <interceptor-ref name="defaultStack" 
			/> <interceptor-ref name="businessInterceptor" /> </interceptor-stack> </interceptors> 
			<default-interceptor-ref name="mystack" /> <global-results> <result name="error">/error.jsp</result> 
			</global-results> <global-exception-mappings> <exception-mapping result="error" 
			exception="java.lang.Exception" /> </global-exception-mappings> -->

		<global-results>
			<result name="error" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</global-results>

		<action name="login!vsp" method="doLogin" class="loginAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="login!org" method="doLogin" class="loginAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="logout" method="doLogout" class="loginAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>

		<action name="upload" method="upload" class="uploadAction">
			<interceptor-ref name="fileUpload">
				<param name="maximumSize">2147483648</param>
				<!-- <param name="allowedTypes">image/png,image/gif,image/jpeg,image/pjpeg</param> -->
			</interceptor-ref>
			<interceptor-ref name="defaultStack"></interceptor-ref>
			<result name="success" type="json"></result>
			<result name="input" type="json"></result>
		</action>

		<action name="org!list" method="doList" class="orgAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="org!validate" method="doValidate" class="orgAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="org!add" method="doAdd" class="orgAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="org!update" method="doUpdate" class="orgAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="org!delete" method="doDelete" class="orgAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="org!get" method="doGet" class="orgAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">org.*,errorcode,errormsg</param>
			</result>
		</action>

		<action name="config!list" method="doList" class="configAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="config!update" method="doUpdate" class="configAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		
		<action name="staff!list" method="doList" class="staffAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="staff!validate" method="doValidate" class="staffAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="staff!add" method="doAdd" class="staffAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="staff!update" method="doUpdate" class="staffAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="staff!resetpassword" method="doResetPassword" class="staffAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="staff!updatepassword" method="doUpdatePassword" class="staffAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="staff!delete" method="doDelete" class="staffAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>

		<action name="role!list" method="doList" class="roleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="role!add" method="doAdd" class="roleAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="role!update" method="doUpdate" class="roleAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="role!delete" method="doDelete" class="roleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="role!privilegelist" method="doPrivilegeList" class="roleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>

		<action name="branch!list" method="doList" class="branchAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="branch!validate" method="doValidate" class="branchAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="branch!add" method="doAdd" class="branchAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="branch!update" method="doUpdate" class="branchAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="branch!delete" method="doDelete" class="branchAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>


		<action name="media!imagelist" method="doImageList" class="mediaAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="media!videolist" method="doVideoList" class="mediaAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="media!add" method="doAdd" class="mediaAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="media!update" method="doUpdate" class="mediaAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="media!delete" method="doDelete" class="mediaAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="media!getthumb" method="getThumbnail" class="mediaAction">
		</action>

		<action name="livesource!list" method="doList" class="livesourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="livesource!add" method="doAdd" class="livesourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="livesource!update" method="doUpdate" class="livesourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="livesource!delete" method="doDelete" class="livesourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		
		
		<action name="widgetsource!list" method="doList" class="widgetsourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="widgetsource!add" method="doAdd" class="widgetsourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="widgetsource!update" method="doUpdate" class="widgetsourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="widgetsource!delete" method="doDelete" class="widgetsourceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>


		<action name="device!list" method="doList" class="deviceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="device!unregisterlist" method="doUnregisterList" class="deviceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="device!add" method="doAdd" class="deviceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="device!update" method="doUpdate" class="deviceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="device!delete" method="doDelete" class="deviceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="device!get" method="doGet" class="deviceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">device.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="device!availlist" method="doAvailListByDeviceGroup" class="deviceAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>

		<action name="devicegroup!list" method="doList" class="devicegroupAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicegroup!add" method="doAdd" class="devicegroupAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicegroup!update" method="doUpdate" class="devicegroupAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicegroup!delete" method="doDelete" class="devicegroupAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		
		<action name="devicegroupdtl!list" method="doList" class="devicegroupdtlAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicegroupdtl!add" method="doAdd" class="devicegroupdtlAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicegroupdtl!delete" method="doDelete" class="devicegroupdtlAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		

		<action name="devicefile!list" method="doList" class="devicefileAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicefile!add" method="doAdd" class="devicefileAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicefile!update" method="doUpdate" class="devicefileAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="devicefile!delete" method="doDelete" class="devicefileAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>

		<action name="layout!list" method="doList" class="layoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="layout!add" method="doAdd" class="layoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="layout!update" method="doUpdate" class="layoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="layout!updatewithregion" method="doUpdateWithRegion" class="layoutAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="layout!wizard" method="doWizard" class="layoutAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">dataid,errorcode,errormsg</param>
			</result>
		</action>
		<action name="layout!delete" method="doDelete" class="layoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="layout!get" method="doGet" class="layoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">layout.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="layout!download" method="doDownload" class="layoutAction">
			<result name="success" type="stream">
				<param name="contentType">application/octet-stream</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">attachment;filename="${xlfname}"</param>
				<param name="bufferSize">1024</param>
			</result>
		</action>


		<action name="tpllayout!list" method="doList" class="tpllayoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="tpllayout!add" method="doAdd" class="tpllayoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="tpllayout!update" method="doUpdate" class="tpllayoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="tpllayout!updatewithregion" method="doUpdateWithRegion" class="tpllayoutAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="tpllayout!delete" method="doDelete" class="tpllayoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="tpllayout!get" method="doGet" class="tpllayoutAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">tpllayout.*,errorcode,errormsg</param>
			</result>
		</action>


		<action name="task!list" method="doList" class="taskAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="task!add" method="doAdd" class="taskAction">
			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="json">
				<param name="enableSMD">true</param>
			</interceptor-ref>
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="task!update" method="doUpdate" class="taskAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="task!delete" method="doDelete" class="taskAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>


		<action name="schedule!listbydevice" method="doListByDevice" class="scheduleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="schedule!listbytask" method="doListByTask" class="scheduleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		<action name="schedule!add" method="doAdd" class="scheduleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="schedule!update" method="doUpdate" class="scheduleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>
		<action name="schedule!delete" method="doDelete" class="scheduleAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">errorcode,errormsg</param>
			</result>
		</action>

		<action name="schedulefile!list" method="doList" class="schedulefileAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">sEcho,iTotalRecords,iTotalDisplayRecords,aaData.*,errorcode,errormsg</param>
			</result>
		</action>
				
		<action name="preview!getxlf" method="getXlf" class="previewAction">
		</action>
		<action name="preview!gettext" method="getText" class="previewAction">
			<result name="success">/web/org/preview_text.jsp</result>
		</action>

		<action name="stat" method="doStat" class="statAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>
		
		<action name="metroline!list" method="doList" class="metroAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">aaData.*,errorcode,errormsg</param>
			</result>
		</action>
	</package>

</struts>
