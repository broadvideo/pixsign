{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["'use strict';var HomeSchool=function(a,b){this.zonediv=a,this.zone=b,common.homeSchool.push(this);var c={},d='<div class=\"home-school-popup\">\\n            <div style=\"padding: 0 5px;\">\\n                <span class=\"home-school-close\"><i class=\"fa fa-times\"></i></span>\\n                <p class=\"home-school-title\">\\u6D88\\u606F\\u5217\\u8868</p>\\n            </div>\\n            <hr style=\"margin: 0\">\\n            <table class=\"home-school-table\">\\n                <tbody>\\n                {{~it:message:index}}\\n                <tr class=\"home-school-tr\">\\n                    <td class=\"home-school-avatar\">\\n                        <img src=\"{{=message.headimgurl}}\"/>\\n                    </td>\\n                    <td class=\"home-school-name\">\\n                        <span>{{=message.name}}</span>\\n                    </td>\\n                    <td class=\"home-school-message\">\\n                        {{? message.message_info}}\\n                        <span>{{=message.message_info}}</span>\\n                        {{?}}\\n                        {{? message.mp3_file}}\\n                        <audio src=\"{{=message.mp3_file}}\" controls=controls></audio>\\n                        {{?}}\\n                    </td>\\n                    <td class=\"home-school-ts\">\\n                        <span>{{=message.send_time}}</span>\\n                    </td>\\n                </tr>\\n                {{~}}\\n                </tbody>\\n            </table>\\n            <hr style=\"margin: 0\">\\n            <div style=\"padding:0 5px\">\\n                <span class=\"home-school-audio\"><i class=\"fa fa-bullhorn\"></i></span>\\n            </div>\\n        </div>';this.init=function(){$.ajax({url:common.baseUrl+'/classrooms/'+common.classRoom.id+'/messagesum?ts='+Date.now(),dataType:'text'}).then(function(a){console.log(JSON.stringify(a));var b=Base64.decode(a),c=JSON.parse(b);console.log(c),c.forEach(function(a){common.students.forEach(function(b){b.student_no===a.student_no&&(a.avatar=b.avatar)})});var d=doT.template('<table class=\"home-school-table\">\\n            <tbody>\\n            {{? it.length == 0}}\\n            \\u65E0\\u7559\\u8A00\\u8BB0\\u5F55\\n            {{?}}\\n            {{~it:msgSum:index}}\\n            <tr class=\"home-school-tr\">\\n                <td class=\"home-school-avatar\">\\n                    <img src=\"{{=msgSum.avatar}}\"/>\\n                </td>\\n                <td class=\"home-school-name\">\\n                    <span>{{=msgSum.student_name}}</span>\\n                </td>\\n                <td class=\"home-school-ts\">\\n                    <span>{{=msgSum.num}}</span>\\n                </td>\\n            </tr>\\n            {{~}}\\n            </tbody>\\n        </table>');$('.home-school').each(function(a,b){$(b).html(d(c))})}).catch(function(a){console.log(JSON.stringify(a))}),$('body').on('click','.home-school-close',function(){$('.home-school-popup').remove()}),$('body').on('click','.home-school-audio',function(a){if(a.preventDefault(),console.log('recording button is clicked'),$(this).hasClass('recording')){$(this).removeClass('recording');var b=window.android.closeVoiceRecorder(),d={student_id:c.id,text:'',audio:b,msg_time:Date.now()};$.ajax({url:common.baseUrl+'/students/'+c.id+'/message?ts='+Date.now(),type:'POST',cache:!1,data:JSON.stringify(d),contentType:'application/json',dataType:'json'}).then(function(){console.log('send message successfully')}).catch(function(a){console.log(JSON.stringify(a))})}else $(this).addClass('recording'),window.android.openVoiceRecorder()})},this.resize=function(c){a.css({\"box-sizing\":'border-box',\"border-color\":b.bdcolor,\"border-style\":b.bdstyle,\"border-width\":parseInt(b.bdwidth)/c+'px',\"border-radius\":parseInt(b.bdradius)/c+'px',color:b.color,\"font-family\":b.fontfamily,\"font-size\":parseInt(b.fontsize)/c+'px',\"text-align\":b.align,\"font-weight\":b.fontweight,\"font-style\":b.fontstyle})},this.swipe=function(a){var b=common.students.filter(function(b){return b.hard_id==a});b.length&&(c=b[0],$.ajax({url:common.baseUrl+'/students/'+c.id+'/messages?ts='+Date.now(),dataType:'text'}).then(function(a){var b=Base64.decode(a),c=JSON.parse(b);$('.home-school-popup').remove();var e=doT.template(d);$(document.body).append(e(c))}).catch(function(a){console.log(a)}))},this.keyup=function(){c=common.students[Math.floor(10*Math.random())],$.ajax({url:common.baseUrl+'/students/18/messages?ts='+Date.now(),dataType:'text'}).then(function(a){var b=Base64.decode(a),c=JSON.parse(b);console.log(c),$('.home-school-popup').remove();var e=doT.template(d);$(document.body).append(e(c))}).catch(function(a){console.log(a)})}};\n\n//# sourceMappingURL=index.js.map"]}