'use strict';var Attendance=function(e,a){this.zonediv=e,this.zone=a,common.attendance.push(this);var g=0;this.init=function(){var b=doT.template('<div class="attendance-list">\n            {{~it:student:index}}\n            <div class="attendance-item animated" data-id="{{=student.id}}">\n                <div class="attendance-avatar">\n                    <img src="{{=student.avatar}}" class="opacity"/>\n                </div>\n                <div class="attendance-info">\n                    <p>{{=student.name}}</p>\n                </div>\n            </div>\n            {{~}}\n        </div>');this.zonediv.html(b(common.students))};var c=function(d){if(d.id){$('.attendance-item').each(function(a,b){$(b).data('id')==d.id&&($(b).find('img').removeClass('opacity'),$(b).addClass('rubberBand'),setTimeout(function(){$(b).removeClass('rubberBand')},1e3))}),$('.attendance-popup').remove();var a=doT.template('<div class="attendance-popup animated" data-id="{{=it.id}}">\n                <div class="attendance-popup-avatar">\n                    <img src="{{=it.avatar}}"/>\n                </div>\n                <div class="attendance-popup-info">\n                    <p>\u7B7E\u5230\u65F6\u95F4\uFF1A{{=moment().format(\'HH:mm:ss\')}}</p>\n                </div>\n            </div>');$('body').append(a(d)),clearTimeout(g),g=setTimeout(function(){$('.attendance-popup').remove()},5e3)}};this.resize=function(b){e.css({"box-sizing":'border-box',"border-color":a.bdcolor,"border-style":a.bdstyle,"border-width":parseInt(a.bdwidth)/b+'px',"border-radius":parseInt(a.bdradius)/b+'px',color:a.color,"font-family":a.fontfamily,"font-size":parseInt(a.fontsize)/b+'px',"text-align":a.align,"font-weight":a.fontweight,"font-style":a.fontstyle,overflow:'auto'})},this.swipe=function(d){console.log(d);var a=common.students.filter(function(a){return a.hard_id==d});if(clearTimeout(g),a.length){var b=a[0];c(b);var e=JSON.stringify({hard_id:b.hard_id,student_id:b.id,classroom_id:common.classRoom.id,ts:Date.now()});$.ajax({url:common.baseUrl+'/students/'+b.id+'/attendance?ts='+Date.now(),type:'post',contentType:'application/json',data:e}).then(function(b){console.log(b.data)}).catch(function(b){console.log(JSON.stringify(b))})}},this.keyup=function(){var d=common.students[Math.floor(10*Math.random())];c(d);var a=JSON.stringify({hard_id:d.hard_id,student_id:d.id,classroom_id:common.classRoom.id,ts:Date.now()});$.ajax({url:common.baseUrl+'/students/'+d.id+'/attendance?ts='+Date.now(),type:'post',contentType:'application/json',data:a}).then(function(b){console.log(b.data)}).catch(function(b){console.log(JSON.stringify(b))})}};

//# sourceMappingURL=index.js.map