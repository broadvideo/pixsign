{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["'use strict';var DailyCourse=function(c,d){this.zonediv=c,this.zone=d;var e=window.android&&window.android.getHost()||'192.168.0.71',f='http://'+e+'/pixsignage-api/service',g=window.android&&window.android.getTerminalId()||'00004',i={},a=moment();$.ajaxSetup({global:!0,cache:!1}),this.resize=function(b){$(c).css({\"box-sizing\":'border-box',\"border-color\":d.bdcolor,\"border-style\":d.bdstyle,\"border-width\":parseInt(d.bdwidth)/b+'px',\"border-radius\":parseInt(d.bdradius)/b+'px',color:d.color,\"font-family\":d.fontfamily,\"font-size\":parseInt(d.fontsize)/b+'px',\"text-align\":d.align,\"font-weight\":d.fontweight,\"font-style\":d.fontstyle,\"line-height\":'1px'}),$(c).find('td').css({\"border-width\":Math.ceil(d.rulewidth/b)+'px',\"border-color\":d.rulecolor,\"word-wrap\":'break-word',\"white-space\":'pre-wrap',\"text-decoration\":d.decoration})},this.init=function(){var e=this;$.ajax({url:f+'/terminals/'+g+'/classroom',dataType:'json'}).then(function(b){return i=b.classroom,$.ajax({url:f+'/classrooms/'+i.id+'/schedules',contentType:'application/json; charset=UTF-8',dataType:'json'})}).then(function(h){if(0!=h.retcode)throw new Error('failed to get day course list.');for(var f=h.course_schedules.filter(function(a){return moment().format('E')==a.workday}).map(function(a){return a.current=moment(a.start_time,'HH:mm').isBefore(moment())&&moment(a.end_time,'HH:mm').isAfter(moment()),a}),g=[],a=0;a<e.zone.rows;a++)f[a]?g.push(f[a]):g.push({start_time:' ',course_name:' '});var b=doT.template('<table>\\n            <tbody>\\n            {{~it:course:index}}\\n            <tr class=\"day-course-tr {{? course.current}}is-current{{?}}\">\\n                <td>\\n                    {{=course.start_time}}\\n                </td>\\n                <td>\\n                    <span>{{=course.course_name}}</span>\\n                </td>\\n            </tr>\\n            {{~}}\\n            </tbody>\\n        </table>');e.zonediv.html(b(g)),e.zonediv.find('table').css({width:'100%',height:'100%'}),e.zonediv.find('table').attr('rules',d.rules),e.zonediv.find('tr td:first').attr('width','30%')}).catch(function(a){console.log(a.message)})},this.init()};\n\n//# sourceMappingURL=index.js.map"]}