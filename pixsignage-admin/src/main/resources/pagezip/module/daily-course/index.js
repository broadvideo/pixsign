'use strict';var DailyCourse=function(h,c){this.zonediv=h,this.zone=c;var b=window.android&&window.android.getHost()||'192.168.0.71',d='http://'+b+'/pixsignage-api/service',f=window.android&&window.android.getTerminalId()||'00004',e={},g=moment();$.ajaxSetup({global:!0,cache:!1}),this.resize=function(a){$(h).css({"box-sizing":'border-box',"border-color":c.bdcolor,"border-style":c.bdstyle,"border-width":parseInt(c.bdwidth)/a+'px',"border-radius":parseInt(c.bdradius)/a+'px',color:c.color,"font-family":c.fontfamily,"font-size":parseInt(c.fontsize)/a+'px',"text-align":c.align,"font-weight":c.fontweight,"font-style":c.fontstyle,"line-height":'1px'}),$(h).find('td').css({"border-width":Math.ceil(c.rulewidth/a)+'px',"border-color":c.rulecolor,"word-wrap":'break-word',"white-space":'pre-wrap',"text-decoration":c.decoration})},this.init=function(){var i=this;$.ajax({url:d+'/terminals/'+f+'/classroom',dataType:'json'}).then(function(a){return e=a.classroom,$.ajax({url:d+'/classrooms/'+e.id+'/schedules',contentType:'application/json; charset=UTF-8',dataType:'json'})}).then(function(d){if(0!=d.retcode)throw new Error('failed to get day course list.');for(var e=d.course_schedules.filter(function(b){return moment().format('E')==b.workday}).map(function(b){return b.current=moment(b.start_time,'HH:mm').isBefore(moment())&&moment(b.end_time,'HH:mm').isAfter(moment()),b}),f=[],g=0;g<i.zone.rows;g++)e[g]?f.push(e[g]):f.push({start_time:' ',course_name:' '});var a=doT.template('<table>\n            <tbody>\n            {{~it:course:index}}\n            <tr class="day-course-tr {{? course.current}}is-current{{?}}">\n                <td>\n                    {{=course.start_time}}\n                </td>\n                <td>\n                    <span>{{=course.course_name}}</span>\n                </td>\n            </tr>\n            {{~}}\n            </tbody>\n        </table>');i.zonediv.html(a(f)),i.zonediv.find('table').css({width:'100%',height:'100%'}),i.zonediv.find('table').attr('rules',c.rules),i.zonediv.find('tr td:first').attr('width','30%')}).catch(function(b){console.log(b.message)})},this.init()};

//# sourceMappingURL=index.js.map