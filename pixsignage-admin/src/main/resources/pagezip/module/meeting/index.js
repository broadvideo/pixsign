"use strict";var meetings=[{id:1,title:"\u5E74\u4E2D\u5E02\u573A\u6C47\u62A5",booker:"\u5F20\u7EA2\u5175",start_time:"9:00",end_time:"10:30",attendee:"\u5B59\u7EA2\u96F7\uFF0C\u5F20\u52C7\uFF0C\u4F55\u7528\uFF0C\u5218\u82B3\uFF0C\u80E1\u4F1F\uFF0C\u6210\u4E2D\uFF0C\u5434\u534E\uFF0C\u9648\u5FD7\u521A\uFF0C\u725B\u6D77\u6D9B\uFF0C\u5F20\u82B3\u82B3",department:"\u5F00\u53D1\u90E8"},{id:2,title:"\u8BC1\u5238\u4ECE\u4E1A\u8003\u8BD5\u5B89\u6392",booker:"\u9A6C\u9E23\u653E",start_time:"11:00",end_time:"11:30",attendee:"\u5B59\u7EA2\u96F7\uFF0C\u5F20\u52C7\uFF0C\u4F55\u7528\uFF0C\u5218\u82B3\uFF0C\u80E1\u4F1F\uFF0C\u6210\u4E2D\uFF0C\u5434\u534E\uFF0C\u9648\u5FD7\u521A\uFF0C\u725B\u6D77\u6D9B\uFF0C\u5F20\u82B3\u82B3",department:"\u5F00\u53D1\u90E8"},{id:3,title:"\u516C\u53F8\u95EE\u9898\u8BA8\u8BBA\u4F1A\u8BAE",booker:"\u5218\u6D77",start_time:"12:00",end_time:"13:00",attendee:"\u5B59\u7EA2\u96F7\uFF0C\u5F20\u52C7\uFF0C\u4F55\u7528\uFF0C\u5218\u82B3\uFF0C\u80E1\u4F1F\uFF0C\u6210\u4E2D\uFF0C\u5434\u534E\uFF0C\u9648\u5FD7\u521A\uFF0C\u725B\u6D77\u6D9B\uFF0C\u5F20\u82B3\u82B3",department:"\u5F00\u53D1\u90E8"},{id:4,title:"\u8BC1\u5238\u516C\u53F8\u4FE1\u7528\u6C47\u603B",booker:"\u5F20\u7EA2\u5175",start_time:"14:00",end_time:"15:30",attendee:"\u5B59\u7EA2\u96F7\uFF0C\u5F20\u52C7\uFF0C\u4F55\u7528\uFF0C\u5218\u82B3\uFF0C\u80E1\u4F1F\uFF0C\u6210\u4E2D\uFF0C\u5434\u534E\uFF0C\u9648\u5FD7\u521A\uFF0C\u725B\u6D77\u6D9B\uFF0C\u5F20\u82B3\u82B3",department:"\u5F00\u53D1\u90E8"},{id:5,title:"\u5BA2\u6237\u95EE\u9898\u6C47\u603B\u8BA8\u8BBA",booker:"\u674E\u743C",start_time:"16:00",end_time:"17:00",attendee:"\u5B59\u7EA2\u96F7\uFF0C\u5F20\u52C7\uFF0C\u4F55\u7528\uFF0C\u5218\u82B3\uFF0C\u80E1\u4F1F\uFF0C\u6210\u4E2D\uFF0C\u5434\u534E\uFF0C\u9648\u5FD7\u521A\uFF0C\u725B\u6D77\u6D9B\uFF0C\u5F20\u82B3\u82B3",department:"\u5F00\u53D1\u90E8"},{id:6,title:"\u5E74\u4E2D\u5E02\u573A\u6C47\u62A5",booker:"\u9F9A\u6625\u7EA2",start_time:"17:30",end_time:"18:30",attendee:"\u5B59\u7EA2\u96F7\uFF0C\u5F20\u52C7\uFF0C\u4F55\u7528\uFF0C\u5218\u82B3\uFF0C\u80E1\u4F1F\uFF0C\u6210\u4E2D\uFF0C\u5434\u534E\uFF0C\u9648\u5FD7\u521A\uFF0C\u725B\u6D77\u6D9B\uFF0C\u5F20\u82B3\u82B3",department:"\u5F00\u53D1\u90E8"},{id:7,title:"\u5E74\u7EC8\u8336\u8BDD\u4F1A",booker:"\u9F9A\u6625\u7EA2",start_time:"19:30",end_time:"21:30",attendee:"\u5B59\u7EA2\u96F7\uFF0C\u5F20\u52C7\uFF0C\u4F55\u7528\uFF0C\u5218\u82B3\uFF0C\u80E1\u4F1F\uFF0C\u6210\u4E2D\uFF0C\u5434\u534E\uFF0C\u9648\u5FD7\u521A\uFF0C\u725B\u6D77\u6D9B\uFF0C\u5F20\u82B3\u82B3",department:"\u5F00\u53D1\u90E8"}],Meeting=function(g,a){this.zonediv=g,this.zone=a,this.host=window.android&&window.android.getHost()||"192.168.0.102:8080",this.baseUrl="http://"+this.host+"/pixmrbs-api/meetings",this.terminalId=window.android&&window.android.getTerminalId()||"00001",this.meetingRoom={},this.meetings=[],this.resize=function(b,c){$(g).css({"box-sizing":"border-box","border-color":a.bdcolor,"border-style":a.bdstyle,"border-width":parseInt(a.bdwidth)/b+"px","border-radius":parseInt(a.bdradius)/b+"px",color:a.color,"font-family":a.fontfamily,"font-size":parseInt(a.fontsize)/b+"px","text-align":a.align,"font-weight":a.fontweight,"font-style":a.fontstyle,"line-height":"1px"});var d=Math.ceil(a.height/(2*(a.rows*c))),e=a.fontsize/c;$(g).find("p").css({"line-height":d-3+"px","text-align":a.align,"font-size":e+"px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",margin:0}),$(g).find("img").css({height:1.4*d+"px","text-align":a.align})},this.init=function(){var d=this;$.ajax({url:d.baseUrl+"/meeting_rooms?terminal_id="+d.terminalId+"&ts="+Date.now(),dataType:"json"}).then(function(a){if(d.meetingRoom=a.data,0<a.data.length)d.meetingRoom=a.data[0];else throw new Error("\u672A\u7ED1\u5B9A\u4F1A\u8BAE\u5BA4");return $.ajax({url:d.baseUrl+"?meeting_room_id="+d.meetingRoom.meeting_room_id+"&ts="+Date.now(),dataType:"json"})}).then(function(a){d.meetings=a.data;var b=doT.template("\n        <table>\n            <tbody>\n            {{~it:meeting:index}}\n            <tr class=\"meeting\" data-id=\"{{=meeting.id}}\">\n                <td width=\"20%\">\n                <p class=\"time\"><i class=\"fa fa-star\"></i> {{=moment(meeting.start_time).format('MM\u6708DD\u65E5 HH:mm')}} - {{=moment(meeting.end_time).format('HH:mm')}}</p>\n                <p class=\"booker\">{{=meeting.book_user}}</p>\n                </td>\n                <td width=\"60%\">\n                <p class=\"title\">{{=meeting.subject}}</p>\n                <p>&nbsp;</p>\n                </td>\n                <td width=\"20%\" align=\"right\"><img src=\"./module/meeting/qrcode.png\" /></td>\n            </tr>\n            {{~}}\n            </tbody>\n        </table>");d.zonediv.html(b(d.meetings))}).catch(function(b){console.log(b.message)}),$(d.zonediv).on("click",".meeting",function(){$("#meeting-detail").remove();var d=$(this).data("id"),a=meetings[d-1],b=doT.template("<div class=\"modal\" id=\"meeting-detail\">\n        <h1>{{=it.title}}</h1>\n        <p>\u65F6\u95F4\uFF1A {{=it.start_time}} - {{=it.end_time}}</p>\n        <p>\u90E8\u95E8\uFF1A {{=it.department}}</p>\n        <p>\u4EBA\u5458\uFF1A {{=it.attendee}}</p>\n        <p>\u9884\u5B9A\u4EBA\uFF1A {{=it.booker}}</p>\n        <img src=\"./module/meeting/qrcode.png\"/>\n        <a href=\"#close-modal\" rel=\"modal:close\" class=\"close-modal \">Close</a></div>");$(document.body).append(b(a)),$("#meeting-detail").modal(),$("#meeting-detail").css("z-index",500)})},this.init()};

//# sourceMappingURL=index.js.map